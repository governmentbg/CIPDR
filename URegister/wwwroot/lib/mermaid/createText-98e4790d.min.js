import{b8 as At,l as zt,aT as It}from"./mermaid-d733041c.js";function Tt(e,t){var{includeImageAlt:t=!0}=t||{};return nt(e,t)}function nt(e,t){return e&&"object"==typeof e&&(e.value||(t?e.alt:"")||"children"in e&&Hn(e.children,t)||Array.isArray(e)&&Hn(e,t))||""}function Hn(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=nt(e[r],t);return n.join("")}function en(e,t,n,r){var i=e.length;let u=0,o;if(t=t<0?i<-t?0:i+t:i<t?i:t,n=0<n?n:0,r.length<1e4)(o=Array.from(r)).unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);u<r.length;)(o=r.slice(u,u+1e4)).unshift(t,0),[].splice.apply(e,o),u+=1e4,t+=1e4}function Z(e,t){return 0<e.length?(en(e,e.length,0,t),e):t}const Nn={}.hasOwnProperty;function Bt(e){var t={};let n=-1;for(;++n<e.length;)Lt(t,e[n]);return t}function Lt(t,n){let r;for(r in n){const u=(Nn.call(t,r)?t[r]:void 0)||(t[r]={}),o=n[r];let e;for(e in o){Nn.call(u,e)||(u[e]=[]);var i=o[e];Ot(u[e],Array.isArray(i)?i:i?[i]:[])}}}function Ot(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);en(e,0,0,r)}const Dt=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,tn=sn(/[A-Za-z]/),An=sn(/\d/),Pt=sn(/[\dA-Fa-f]/),v=sn(/[\dA-Za-z]/),_t=sn(/[!-/:-@[-`{-~]/),Vn=sn(/[#-'*+\--9=?A-Z^-~]/);function zn(e){return null!==e&&(e<32||127===e)}function Y(e){return null!==e&&(e<0||32===e)}function C(e){return null!==e&&e<-2}function q(e){return-2===e||-1===e||32===e}const Mt=sn(/\s/),jt=sn(Dt);function sn(t){return function(e){return null!==e&&t.test(String.fromCharCode(e))}}function T(t,n,r,e){const i=e?e-1:Number.POSITIVE_INFINITY;let u=0;return function(e){return q(e)?(t.enter(r),o(e)):n(e)};function o(e){return q(e)&&u++<i?(t.consume(e),o):(t.exit(r),n(e))}}const Rt={tokenize:qt};function qt(n){const t=n.attempt(this.parser.constructs.contentInitial,function(e){if(null!==e)return n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),T(n,t,"linePrefix");n.consume(e)},function(e){return n.enter("paragraph"),i(e)});let r;return t;function i(e){var t=n.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=t),r=t,u(e)}function u(e){return null===e?(n.exit("chunkText"),n.exit("paragraph"),void n.consume(e)):C(e)?(n.consume(e),n.exit("chunkText"),i):(n.consume(e),u)}}const Ht={tokenize:Nt},Wn={tokenize:Vt};function Nt(r){const u=this,i=[];let o=0,c,n,s;return t;function t(e){var t;return o<i.length?(t=i[o],u.containerState=t[1],r.attempt(t[0].continuation,l,a)(e)):a(e)}function l(r){if(o++,u.containerState._closeFlow){u.containerState._closeFlow=void 0,c&&y();var i=u.events.length;let e=i,t;for(;e--;)if("exit"===u.events[e][0]&&"chunkFlow"===u.events[e][1].type){t=u.events[e][1].end;break}k(o);let n=i;for(;n<u.events.length;)u.events[n][1].end=Object.assign({},t),n++;return en(u.events,e+1,0,u.events.slice(i)),u.events.length=n,a(r)}return t(r)}function a(e){if(o===i.length){if(!c)return h(e);if(c.currentConstruct&&c.currentConstruct.concrete)return m(e);u.interrupt=!(!c.currentConstruct||c._gfmTableDynamicInterruptHack)}return u.containerState={},r.check(Wn,f,d)(e)}function f(e){return c&&y(),k(o),h(e)}function d(e){return u.parser.lazy[u.now().line]=o!==i.length,s=u.now().offset,m(e)}function h(e){return u.containerState={},r.attempt(Wn,p,m)(e)}function p(e){return o++,i.push([u.currentConstruct,u.containerState]),h(e)}function m(e){return null===e?(c&&y(),k(0),void r.consume(e)):(c=c||u.parser.flow(u.now()),r.enter("chunkFlow",{contentType:"flow",previous:n,_tokenizer:c}),g(e))}function g(e){return null===e?(x(r.exit("chunkFlow"),!0),k(0),void r.consume(e)):C(e)?(r.consume(e),x(r.exit("chunkFlow")),o=0,u.interrupt=void 0,t):(r.consume(e),g)}function x(e,i){const t=u.sliceStream(e);if(i&&t.push(null),(e.previous=n)&&(n.next=e),n=e,c.defineSkip(e.start),c.write(t),u.parser.lazy[e.start.line]){let e=c.events.length;for(;e--;)if(c.events[e][1].start.offset<s&&(!c.events[e][1].end||c.events[e][1].end.offset>s))return;i=u.events.length;let t=i,n,r;for(;t--;)if("exit"===u.events[t][0]&&"chunkFlow"===u.events[t][1].type){if(n){r=u.events[t][1].end;break}n=!0}for(k(o),e=i;e<u.events.length;)u.events[e][1].end=Object.assign({},r),e++;en(u.events,t+1,0,u.events.slice(i)),u.events.length=e}}function k(e){let t=i.length;for(;t-- >e;){const n=i[t];u.containerState=n[1],n[0].exit.call(u,r)}i.length=e}function y(){c.write([null]),n=void 0,c=void 0,u.containerState._closeFlow=void 0}}function Vt(e,t,n){return T(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Qn(e){return null===e||Y(e)||Mt(e)?1:jt(e)?2:void 0}function Ln(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const u=e[i].resolveAll;u&&!r.includes(u)&&(t=u(t,n),r.push(u))}return t}const In={name:"attention",tokenize:Qt,resolveAll:Wt};function Wt(e,t){let n=-1,r,i,u,o,c,s,l,a;for(;++n<e.length;)if("enter"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._close)for(r=n;r--;)if("exit"===e[r][0]&&"attentionSequence"===e[r][1].type&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;s=1<e[r][1].end.offset-e[r][1].start.offset&&1<e[n][1].end.offset-e[n][1].start.offset?2:1;var f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);Un(f,-s),Un(d,s),o={type:1<s?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},c={type:1<s?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},u={type:1<s?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:1<s?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},c.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},c.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=Z(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=Z(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",u,t]]),l=Z(l,Ln(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=Z(l,[["exit",u,t],["enter",c,t],["exit",c,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(a=2,l=Z(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):a=0,en(e,r-1,n-r+3,l),n=r+l.length-a-2;break}for(n=-1;++n<e.length;)"attentionSequence"===e[n][1].type&&(e[n][1].type="data");return e}function Qt(u,o){const c=this.parser.constructs.attentionMarkers.null,s=this.previous,l=Qn(s);let a;return function(e){return u.enter("attentionSequence"),f(a=e)};function f(e){if(e===a)return u.consume(e),f;const t=u.exit("attentionSequence"),n=Qn(e),r=!n||2===n&&l||c.includes(e),i=!l||2===l&&n||c.includes(s);return t._open=!!(42===a?r:r&&(l||!i)),t._close=!!(42===a?i:i&&(n||!r)),o(e)}}function Un(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ut={name:"autolink",tokenize:$t};function $t(t,n,r){let i=1;return function(e){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(e),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),u};function u(e){return tn(e)?(t.consume(e),o):(Vn(e)?l:r)(e)}function o(e){return(43===e||45===e||46===e||v(e)?c:l)(e)}function c(e){return 58===e?(t.consume(e),s):(43===e||45===e||46===e||v(e))&&i++<32?(t.consume(e),c):l(e)}function s(e){return 62===e?(t.exit("autolinkProtocol"),h(e)):null===e||32===e||60===e||zn(e)?r(e):(t.consume(e),s)}function l(e){return 64===e?(t.consume(e),i=0,a):Vn(e)?(t.consume(e),l):r(e)}function a(e){return(v(e)?f:r)(e)}function f(e){return 46===e?(t.consume(e),i=0,a):62===e?(t.exit("autolinkProtocol").type="autolinkEmail",h(e)):d(e)}function d(e){return(45===e||v(e))&&i++<63?(t.consume(e),45===e?d:f):r(e)}function h(e){return t.enter("autolinkMarker"),t.consume(e),t.exit("autolinkMarker"),t.exit("autolink"),n}}const Sn={tokenize:Zt,partial:!0};function Zt(e,t,n){return T(e,function(e){return(null===e||C(e)?t:n)(e)},"linePrefix")}const tt={name:"blockQuote",tokenize:Yt,continuation:{tokenize:Gt},exit:Jt};function Yt(n,t,r){const i=this;return function(e){if(62!==e)return r(e);{const t=i.containerState;return t.open||(n.enter("blockQuote",{_container:!0}),t.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(e),n.exit("blockQuoteMarker"),u}};function u(e){return q(e)?(n.enter("blockQuotePrefixWhitespace"),n.consume(e),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(e))}}function Gt(e,t,n){return T(e,e.attempt(tt,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Jt(e){e.exit("blockQuote")}const et={name:"characterEscape",tokenize:Kt};function Kt(t,n,r){return function(e){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(e),t.exit("escapeMarker"),i};function i(e){return _t(e)?(t.enter("characterEscapeValue"),t.consume(e),t.exit("characterEscapeValue"),t.exit("characterEscape"),n):r(e)}}const $n=document.createElement("i");function On(e){var t="&"+e+";";$n.innerHTML=t;const n=$n.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&n!==t&&n}const rt={name:"characterReference",tokenize:Xt};function Xt(n,r,i){const u=this;let o=0,c,s;return function(e){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(e),n.exit("characterReferenceMarker"),t};function t(e){return 35===e?(n.enter("characterReferenceMarkerNumeric"),n.consume(e),n.exit("characterReferenceMarkerNumeric"),l):(n.enter("characterReferenceValue"),c=31,s=v,a(e))}function l(e){return 88===e||120===e?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(e),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),c=6,s=Pt,a):(n.enter("characterReferenceValue"),c=7,s=An,a(e))}function a(e){var t;return 59===e&&o?(t=n.exit("characterReferenceValue"),s!==v||On(u.sliceSerialize(t))?(n.enter("characterReferenceMarker"),n.consume(e),n.exit("characterReferenceMarker"),n.exit("characterReference"),r):i(e)):s(e)&&o++<c?(n.consume(e),a):i(e)}}const Zn={name:"codeFenced",tokenize:vt,concrete:!0};function vt(t,n,r){const i=this,u={tokenize:function(t,n,r){let i=0;return T(t,function(e){return t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(e)},"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function u(e){return e===l?(t.consume(e),i++,u):i<s?r(e):(t.exit("codeFencedFenceSequence"),T(t,o,"whitespace")(e))}function o(e){return null===e||C(e)?(t.exit("codeFencedFence"),n(e)):r(e)}},partial:!0},o={tokenize:function(t,n,r){const i=this;return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),u};function u(e){return(i.parser.lazy[i.now().line]?r:n)(e)}},partial:!0},e=this.events[this.events.length-1],c=e&&"linePrefix"===e[1].type?e[2].sliceSerialize(e[1],!0).length:0;let s=0,l;return function(e){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),a(l=e)};function a(e){return e===l?(t.consume(e),s++,a):(t.exit("codeFencedFenceSequence"),(s<3?r:T(t,f,"whitespace"))(e))}function f(e){return null===e||C(e)?m(e):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),d(e))}function d(e){return null===e||Y(e)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),T(t,h,"whitespace")(e)):96===e&&e===l?r(e):(t.consume(e),d)}function h(e){return null===e||C(e)?m(e):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(e))}function p(e){return null===e||C(e)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(e)):96===e&&e===l?r(e):(t.consume(e),p)}function m(e){return t.exit("codeFencedFence"),(i.interrupt?n:g)(e)}function g(e){return null===e?k(e):C(e)?t.attempt(o,t.attempt(u,k,c?T(t,g,"linePrefix",c+1):g),k)(e):(t.enter("codeFlowValue"),x(e))}function x(e){return null===e||C(e)?(t.exit("codeFlowValue"),g(e)):(t.consume(e),x)}function k(e){return t.exit("codeFenced"),n(e)}}const wn={name:"codeIndented",tokenize:te},ne={tokenize:ee,partial:!0};function te(t,n,r){const i=this;return function(e){return t.enter("codeIndented"),T(t,u,"linePrefix",5)(e)};function u(e){const t=i.events[i.events.length-1];return(t&&"linePrefix"===t[1].type&&4<=t[2].sliceSerialize(t[1],!0).length?o:r)(e)}function o(e){return null===e?s(e):C(e)?t.attempt(ne,o,s)(e):(t.enter("codeFlowValue"),c(e))}function c(e){return null===e||C(e)?(t.exit("codeFlowValue"),o(e)):(t.consume(e),c)}function s(e){return t.exit("codeIndented"),n(e)}}function ee(t,n,r){const i=this;return u;function u(e){return i.parser.lazy[i.now().line]?r(e):C(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),u):T(t,o,"linePrefix",5)(e)}function o(e){const t=i.events[i.events.length-1];return(t&&"linePrefix"===t[1].type&&4<=t[2].sliceSerialize(t[1],!0).length?n:C(e)?u:r)(e)}}const re={name:"codeText",tokenize:le,resolve:ie,previous:ue};function ie(e){let t=e.length-4,n=3,r,i;if(!("lineEnding"!==e[n][1].type&&"space"!==e[n][1].type||"lineEnding"!==e[t][1].type&&"space"!==e[t][1].type))for(r=n;++r<t;)if("codeTextData"===e[r][1].type){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}for(r=n-1,t++;++r<=t;)void 0===i?r!==t&&"lineEnding"!==e[r][1].type&&(i=r):r!==t&&"lineEnding"!==e[r][1].type||(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function ue(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}function le(t,n,r){let i=0,u,o;return function(e){return t.enter("codeText"),t.enter("codeTextSequence"),c(e)};function c(e){return 96===e?(t.consume(e),i++,c):(t.exit("codeTextSequence"),s(e))}function s(e){return null===e?r(e):96===e?(o=t.enter("codeTextSequence"),u=0,a(e)):32===e?(t.enter("space"),t.consume(e),t.exit("space"),s):C(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),s):(t.enter("codeTextData"),l(e))}function l(e){return null===e||32===e||96===e||C(e)?(t.exit("codeTextData"),s(e)):(t.consume(e),l)}function a(e){return 96===e?(t.consume(e),u++,a):u===i?(t.exit("codeTextSequence"),t.exit("codeText"),n(e)):(o.type="codeTextData",l(e))}}function it(e){var t={};let n=-1,r,i,u,o,c,s,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&"chunkFlow"===r[1].type&&"listItemPrefix"===e[n-1][1].type&&(s=r[1]._tokenizer.events,(u=0)<s.length&&"lineEndingBlank"===s[u][1].type&&(u+=2),u<s.length&&"content"===s[u][1].type))for(;++u<s.length&&"content"!==s[u][1].type;)"chunkText"===s[u][1].type&&(s[u][1]._isInFirstContentOfListItem=!0,u++);if("enter"===r[0])r[1].contentType&&(Object.assign(t,ae(e,n)),n=t[n],l=!0);else if(r[1]._container){for(u=n,i=void 0;u--&&("lineEnding"===(o=e[u])[1].type||"lineEndingBlank"===o[1].type);)"enter"===o[0]&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=u);i&&(r[1].end=Object.assign({},e[i][1].start),(c=e.slice(i,n)).unshift(r),en(e,i,n-i+1,c))}}return!l}function ae(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const u=[],o=n._tokenizer||r.parser[n.contentType](n.start),c=o.events,s=[],l={};let a,f,d=-1,h=n,p=0,m;const g=[0];for(;h;){for(;e[++i][1]!==h;);u.push(i),h._tokenizer||(a=r.sliceStream(h),h.next||a.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(a),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=(f=h).next}for(h=n;++d<c.length;)"exit"===c[d][0]&&"enter"===c[d-1][0]&&c[d][1].type===c[d-1][1].type&&c[d][1].start.line!==c[d][1].end.line&&(m=d+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),d=g.length;d--;){var x=c.slice(g[d],g[d+1]),k=u.pop();s.unshift([k,k+x.length-1]),en(e,k,2,x)}for(d=-1;++d<s.length;)l[p+s[d][0]]=p+s[d][1],p+=s[d][1]-s[d][0]-1;return l}const oe={tokenize:he,resolve:ce},se={tokenize:pe,partial:!0};function ce(e){return it(e),e}function he(t,n){let r;return function(e){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),i(e)};function i(e){return null===e?u(e):C(e)?t.check(se,o,u)(e):(t.consume(e),i)}function u(e){return t.exit("chunkContent"),t.exit("content"),n(e)}function o(e){return t.consume(e),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function pe(n,r,i){const u=this;return function(e){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),T(n,t,"linePrefix")};function t(e){if(null===e||C(e))return i(e);const t=u.events[u.events.length-1];return(!u.parser.constructs.disable.null.includes("codeIndented")&&t&&"linePrefix"===t[1].type&&4<=t[2].sliceSerialize(t[1],!0).length?r:n.interrupt(u.parser.constructs.flow,i,r))(e)}}function ut(t,n,r,i,u,o,c,s,e){const l=e||Number.POSITIVE_INFINITY;let a=0;return function(e){return 60===e?(t.enter(i),t.enter(u),t.enter(o),t.consume(e),t.exit(o),f):null===e||41===e||zn(e)?r(e):(t.enter(i),t.enter(c),t.enter(s),t.enter("chunkString",{contentType:"string"}),p(e))};function f(e){return 62===e?(t.enter(o),t.consume(e),t.exit(o),t.exit(u),t.exit(i),n):(t.enter(s),t.enter("chunkString",{contentType:"string"}),d(e))}function d(e){return 62===e?(t.exit("chunkString"),t.exit(s),f(e)):null===e||60===e||C(e)?r(e):(t.consume(e),92===e?h:d)}function h(e){return 60===e||62===e||92===e?(t.consume(e),d):d(e)}function p(e){return 40===e?++a>l?r(e):(t.consume(e),p):41===e?a--?(t.consume(e),p):(t.exit("chunkString"),t.exit(s),t.exit(c),t.exit(i),n(e)):null===e||Y(e)?a?r(e):(t.exit("chunkString"),t.exit(s),t.exit(c),t.exit(i),n(e)):zn(e)?r(e):(t.consume(e),92===e?m:p)}function m(e){return 40===e||41===e||92===e?(t.consume(e),p):p(e)}}function lt(t,n,r,i,u,o){const c=this;let s=0,l;return function(e){return t.enter(i),t.enter(u),t.consume(e),t.exit(u),t.enter(o),a};function a(e){return null===e||91===e||93===e&&!l||94===e&&!s&&"_hiddenFootnoteSupport"in c.parser.constructs||999<s?r(e):93===e?(t.exit(o),t.enter(u),t.consume(e),t.exit(u),t.exit(i),n):C(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),a):(t.enter("chunkString",{contentType:"string"}),f(e))}function f(e){return null===e||91===e||93===e||C(e)||999<s++?(t.exit("chunkString"),a(e)):(t.consume(e),l=l||!q(e),92===e?d:f)}function d(e){return 91===e||92===e||93===e?(t.consume(e),s++,f):f(e)}}function at(t,n,r,i,u,o){let c;return function(e){return t.enter(i),t.enter(u),t.consume(e),t.exit(u),c=40===e?41:e,s};function s(e){return e===c?(t.enter(u),t.consume(e),t.exit(u),t.exit(i),n):(t.enter(o),l(e))}function l(e){return e===c?(t.exit(o),s(c)):null===e?r(e):C(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),T(t,l,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),a(e))}function a(e){return e===c||null===e||C(e)?(t.exit("chunkString"),l(e)):(t.consume(e),92===e?f:a)}function f(e){return e===c||92===e?(t.consume(e),a):a(e)}}function dn(n,r){let i;return function e(t){return C(t)?(n.enter("lineEnding"),n.consume(t),n.exit("lineEnding"),i=!0,e):(q(t)?T(n,e,i?"linePrefix":"lineSuffix"):r)(t)}}function fn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const me={name:"definition",tokenize:xe},fe={tokenize:ge,partial:!0};function xe(t,n,r){const i=this;let u;return function(e){return t.enter("definition"),lt.call(i,t,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(e)};function o(e){return u=fn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===e?(t.enter("definitionMarker"),t.consume(e),t.exit("definitionMarker"),dn(t,ut(t,t.attempt(fe,T(t,c,"whitespace"),T(t,c,"whitespace")),r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):r(e)}function c(e){return null===e||C(e)?(t.exit("definition"),i.parser.defined.includes(u)||i.parser.defined.push(u),n(e)):r(e)}}function ge(t,n,r){return function(e){return(Y(e)?dn(t,i):r)(e)};function i(e){return(34===e||39===e||40===e?at(t,T(t,u,"whitespace"),r,"definitionTitle","definitionTitleMarker","definitionTitleString"):r)(e)}function u(e){return(null===e||C(e)?n:r)(e)}}const ke={name:"hardBreakEscape",tokenize:de};function de(t,n,r){return function(e){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(e),i};function i(e){return C(e)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),n(e)):r(e)}}const be={name:"headingAtx",tokenize:Se,resolve:ye};function ye(e,t){let n=e.length-2,r=3,i,u;return"whitespace"===e[r][1].type&&(r+=2),n-2>r&&"whitespace"===e[n][1].type&&(n-=2),"atxHeadingSequence"===e[n][1].type&&(r===n-1||n-4>r&&"whitespace"===e[n-2][1].type)&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},u={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},en(e,r,n-r+1,[["enter",i,t],["enter",u,t],["exit",u,t],["exit",i,t]])),e}function Se(t,n,r){const i=this;let u=0;return function(e){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(e)};function o(e){return 35===e&&u++<6?(t.consume(e),o):null===e||Y(e)?(t.exit("atxHeadingSequence"),(i.interrupt?n:c)(e)):r(e)}function c(e){return 35===e?(t.enter("atxHeadingSequence"),s(e)):null===e||C(e)?(t.exit("atxHeading"),n(e)):q(e)?T(t,c,"whitespace")(e):(t.enter("atxHeadingText"),l(e))}function s(e){return 35===e?(t.consume(e),s):(t.exit("atxHeadingSequence"),c(e))}function l(e){return null===e||35===e||Y(e)?(t.exit("atxHeadingText"),c(e)):(t.consume(e),l)}}const Fe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Yn=["pre","script","style","textarea"],Ee={name:"htmlFlow",tokenize:Ae,resolveTo:Ce,concrete:!0},we={tokenize:ze,partial:!0};function Ce(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return 1<t&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Ae(t,n,r){const u=this;let i,o,c,s,l;return function(e){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(e),a};function a(e){return 33===e?(t.consume(e),f):47===e?(t.consume(e),p):63===e?(t.consume(e),i=3,u.interrupt?n:O):tn(e)?(t.consume(e),c=String.fromCharCode(e),o=!0,m):r(e)}function f(e){return 45===e?(t.consume(e),i=2,d):91===e?(t.consume(e),i=5,c="CDATA[",s=0,h):tn(e)?(t.consume(e),i=4,u.interrupt?n:O):r(e)}function d(e){return 45===e?(t.consume(e),u.interrupt?n:O):r(e)}function h(e){return e===c.charCodeAt(s++)?(t.consume(e),s===c.length?u.interrupt?n:I:h):r(e)}function p(e){return tn(e)?(t.consume(e),c=String.fromCharCode(e),m):r(e)}function m(e){return null===e||47===e||62===e||Y(e)?47!==e&&o&&Yn.includes(c.toLowerCase())?(i=1,(u.interrupt?n:I)(e)):Fe.includes(c.toLowerCase())?(i=6,47===e?(t.consume(e),g):(u.interrupt?n:I)(e)):(i=7,(u.interrupt&&!u.parser.lazy[u.now().line]?r:o?k:x)(e)):45===e||v(e)?(t.consume(e),c+=String.fromCharCode(e),m):r(e)}function g(e){return 62===e?(t.consume(e),u.interrupt?n:I):r(e)}function x(e){return q(e)?(t.consume(e),x):A(e)}function k(e){return 47===e?(t.consume(e),A):58===e||95===e||tn(e)?(t.consume(e),y):q(e)?(t.consume(e),k):A(e)}function y(e){return 45===e||46===e||58===e||95===e||v(e)?(t.consume(e),y):F(e)}function F(e){return 61===e?(t.consume(e),b):q(e)?(t.consume(e),F):k(e)}function b(e){return null===e||60===e||61===e||62===e||96===e?r(e):34===e||39===e?(t.consume(e),l=e,S):q(e)?(t.consume(e),b):(l=null,T(e))}function S(e){return null===e||C(e)?r(e):e===l?(t.consume(e),E):(t.consume(e),S)}function T(e){return null===e||34===e||39===e||60===e||61===e||62===e||96===e||Y(e)?F(e):(t.consume(e),T)}function E(e){return(47===e||62===e||q(e)?k:r)(e)}function A(e){return 62===e?(t.consume(e),w):r(e)}function w(e){return q(e)?(t.consume(e),w):(null===e||C(e)?I:r)(e)}function I(e){return 45===e&&2===i?(t.consume(e),_):60===e&&1===i?(t.consume(e),L):62===e&&4===i?(t.consume(e),P):63===e&&3===i?(t.consume(e),O):93===e&&5===i?(t.consume(e),H):!C(e)||6!==i&&7!==i?null===e||C(e)?z(e):(t.consume(e),I):t.check(we,P,z)(e)}function z(e){return t.exit("htmlFlowData"),D(e)}function D(e){return null===e?j(e):C(e)?t.attempt({tokenize:B,partial:!0},D,j)(e):(t.enter("htmlFlowData"),I(e))}function B(t,n,r){return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),i};function i(e){return(u.parser.lazy[u.now().line]?r:n)(e)}}function _(e){return 45===e?(t.consume(e),O):I(e)}function L(e){return 47===e?(t.consume(e),c="",M):I(e)}function M(e){return 62===e&&Yn.includes(c.toLowerCase())?(t.consume(e),P):tn(e)&&c.length<8?(t.consume(e),c+=String.fromCharCode(e),M):I(e)}function H(e){return 93===e?(t.consume(e),O):I(e)}function O(e){return 62===e?(t.consume(e),P):45===e&&2===i?(t.consume(e),O):I(e)}function P(e){return null===e||C(e)?(t.exit("htmlFlowData"),j(e)):(t.consume(e),P)}function j(e){return t.exit("htmlFlow"),n(e)}}function ze(t,n,r){return function(e){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(e),t.exit("lineEndingBlank"),t.attempt(Sn,n,r)}}const Ie={name:"htmlText",tokenize:Te};function Te(t,n,r){const i=this;let u,o,c,s;return function(e){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(e),l};function l(e){return 33===e?(t.consume(e),a):47===e?(t.consume(e),E):63===e?(t.consume(e),b):tn(e)?(t.consume(e),I):r(e)}function a(e){return 45===e?(t.consume(e),f):91===e?(t.consume(e),o="CDATA[",c=0,g):tn(e)?(t.consume(e),F):r(e)}function f(e){return 45===e?(t.consume(e),d):r(e)}function d(e){return null===e||62===e?r(e):45===e?(t.consume(e),h):p(e)}function h(e){return(null===e||62===e?r:p)(e)}function p(e){return null===e?r(e):45===e?(t.consume(e),m):C(e)?(s=p,P(e)):(t.consume(e),p)}function m(e){return 45===e?(t.consume(e),H):p(e)}function g(e){return e===o.charCodeAt(c++)?(t.consume(e),c===o.length?x:g):r(e)}function x(e){return null===e?r(e):93===e?(t.consume(e),k):C(e)?(s=x,P(e)):(t.consume(e),x)}function k(e){return 93===e?(t.consume(e),y):x(e)}function y(e){return 62===e?H(e):93===e?(t.consume(e),y):x(e)}function F(e){return null===e||62===e?H(e):C(e)?(s=F,P(e)):(t.consume(e),F)}function b(e){return null===e?r(e):63===e?(t.consume(e),S):C(e)?(s=b,P(e)):(t.consume(e),b)}function S(e){return(62===e?H:b)(e)}function E(e){return tn(e)?(t.consume(e),A):r(e)}function A(e){return 45===e||v(e)?(t.consume(e),A):w(e)}function w(e){return C(e)?(s=w,P(e)):q(e)?(t.consume(e),w):H(e)}function I(e){return 45===e||v(e)?(t.consume(e),I):(47===e||62===e||Y(e)?z:r)(e)}function z(e){return 47===e?(t.consume(e),H):58===e||95===e||tn(e)?(t.consume(e),D):C(e)?(s=z,P(e)):q(e)?(t.consume(e),z):H(e)}function D(e){return 45===e||46===e||58===e||95===e||v(e)?(t.consume(e),D):B(e)}function B(e){return 61===e?(t.consume(e),_):C(e)?(s=B,P(e)):q(e)?(t.consume(e),B):z(e)}function _(e){return null===e||60===e||61===e||62===e||96===e?r(e):34===e||39===e?(t.consume(e),u=e,L):C(e)?(s=_,P(e)):q(e)?(t.consume(e),_):(t.consume(e),u=void 0,O)}function L(e){return e===u?(t.consume(e),M):null===e?r(e):C(e)?(s=L,P(e)):(t.consume(e),L)}function M(e){return(62===e||47===e||Y(e)?z:r)(e)}function O(e){return null===e||34===e||39===e||60===e||61===e||96===e?r(e):62===e||Y(e)?z(e):(t.consume(e),O)}function P(e){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),T(t,j,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function j(e){return t.enter("htmlTextData"),s(e)}function H(e){return 62===e?(t.consume(e),t.exit("htmlTextData"),t.exit("htmlText"),n):r(e)}}const Dn={name:"labelEnd",tokenize:_e,resolveTo:Pe,resolveAll:De},Be={tokenize:Me},Le={tokenize:je},Oe={tokenize:Re};function De(e){let t=-1,n;for(;++t<e.length;)"labelImage"!==(n=e[t][1]).type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++);return e}function Pe(e,t){let n=e.length,r=0,i,u,o,c;for(;n--;)if(i=e[n][1],u){if("link"===i.type||"labelLink"===i.type&&i._inactive)break;"enter"===e[n][0]&&"labelLink"===i.type&&(i._inactive=!0)}else if(o){if("enter"===e[n][0]&&("labelImage"===i.type||"labelLink"===i.type)&&!i._balanced&&(u=n,"labelLink"!==i.type)){r=2;break}}else"labelEnd"===i.type&&(o=n);var s={type:"labelLink"===e[u][1].type?"link":"image",start:Object.assign({},e[u][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[u][1].start),end:Object.assign({},e[o][1].end)},a={type:"labelText",start:Object.assign({},e[u+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return c=Z([["enter",s,t],["enter",l,t]],e.slice(u+1,u+r+3)),c=Z(c,[["enter",a,t]]),c=Z(c,Ln(t.parser.constructs.insideSpan.null,e.slice(u+r+4,o-3),t)),c=Z(c,[["exit",a,t],e[o-2],e[o-1],["exit",l,t]]),c=Z(c,e.slice(o+1)),c=Z(c,[["exit",s,t]]),en(e,u,e.length,c),e}function _e(t,n,r){const i=this;let e=i.events.length,u,o;for(;e--;)if(("labelImage"===i.events[e][1].type||"labelLink"===i.events[e][1].type)&&!i.events[e][1]._balanced){u=i.events[e][1];break}return function(e){return u?u._inactive?s(e):(o=i.parser.defined.includes(fn(i.sliceSerialize({start:u.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelEnd"),c):r(e)};function c(e){return(40===e?t.attempt(Be,n,o?n:s):91===e?t.attempt(Le,n,o?t.attempt(Oe,n,s):s):o?n:s)(e)}function s(e){return u._balanced=!0,r(e)}}function Me(t,n,r){return function(e){return t.enter("resource"),t.enter("resourceMarker"),t.consume(e),t.exit("resourceMarker"),dn(t,i)};function i(e){return(41===e?c:ut(t,u,r,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32))(e)}function u(e){return(Y(e)?dn(t,o):c)(e)}function o(e){return(34===e||39===e||40===e?at(t,dn(t,c),r,"resourceTitle","resourceTitleMarker","resourceTitleString"):c)(e)}function c(e){return 41===e?(t.enter("resourceMarker"),t.consume(e),t.exit("resourceMarker"),t.exit("resource"),n):r(e)}}function je(t,n,r){const i=this;return function(e){return lt.call(i,t,u,r,"reference","referenceMarker","referenceString")(e)};function u(e){return(i.parser.defined.includes(fn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?n:r)(e)}}function Re(t,n,r){return function(e){return t.enter("reference"),t.enter("referenceMarker"),t.consume(e),t.exit("referenceMarker"),i};function i(e){return 93===e?(t.enter("referenceMarker"),t.consume(e),t.exit("referenceMarker"),t.exit("reference"),n):r(e)}}const qe={name:"labelStartImage",tokenize:He,resolveAll:Dn.resolveAll};function He(t,n,r){const i=this;return function(e){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(e),t.exit("labelImageMarker"),u};function u(e){return 91===e?(t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelImage"),o):r(e)}function o(e){return(94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?r:n)(e)}}const Ne={name:"labelStartLink",tokenize:Ve,resolveAll:Dn.resolveAll};function Ve(t,n,r){const i=this;return function(e){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelLink"),u};function u(e){return(94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?r:n)(e)}}const Cn={name:"lineEnding",tokenize:We};function We(t,n){return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),T(t,n,"linePrefix")}}const bn={name:"thematicBreak",tokenize:Qe};function Qe(t,n,r){let i=0,u;return function(e){return t.enter("thematicBreak"),o(u=e)};function o(e){return e===u?(t.enter("thematicBreakSequence"),c(e)):q(e)?T(t,o,"whitespace")(e):i<3||null!==e&&!C(e)?r(e):(t.exit("thematicBreak"),n(e))}function c(e){return e===u?(t.consume(e),i++,c):(t.exit("thematicBreakSequence"),o(e))}}const $={name:"list",tokenize:Ze,continuation:{tokenize:Ye},exit:Je},Ue={tokenize:Ke,partial:!0},$e={tokenize:Ge,partial:!0};function Ze(n,t,r){const i=this,e=i.events[i.events.length-1];let u=e&&"linePrefix"===e[1].type?e[2].sliceSerialize(e[1],!0).length:0,o=0;return function(e){var t=i.containerState.type||(42===e||43===e||45===e?"listUnordered":"listOrdered");if("listUnordered"===t?!i.containerState.marker||e===i.containerState.marker:An(e)){if(i.containerState.type||(i.containerState.type=t,n.enter(t,{_container:!0})),"listUnordered"===t)return n.enter("listItemPrefix"),(42===e||45===e?n.check(bn,r,s):s)(e);if(!i.interrupt||49===e)return n.enter("listItemPrefix"),n.enter("listItemValue"),c(e)}return r(e)};function c(e){return An(e)&&++o<10?(n.consume(e),c):(!i.interrupt||o<2)&&(i.containerState.marker?e===i.containerState.marker:41===e||46===e)?(n.exit("listItemValue"),s(e)):r(e)}function s(e){return n.enter("listItemMarker"),n.consume(e),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||e,n.check(Sn,i.interrupt?r:l,n.attempt(Ue,f,a))}function l(e){return i.containerState.initialBlankLine=!0,u++,f(e)}function a(e){return q(e)?(n.enter("listItemPrefixWhitespace"),n.consume(e),n.exit("listItemPrefixWhitespace"),f):r(e)}function f(e){return i.containerState.size=u+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(e)}}function Ye(t,n,r){const i=this;return i.containerState._closeFlow=void 0,t.check(Sn,function(e){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,T(t,n,"listItemIndent",i.containerState.size+1)(e)},function(e){return i.containerState.furtherBlankLines||!q(e)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(e)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt($e,n,u)(e))});function u(e){return i.containerState._closeFlow=!0,i.interrupt=void 0,T(t,t.attempt($,n,r),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(e)}}function Ge(e,n,r){const i=this;return T(e,function(e){const t=i.events[i.events.length-1];return(t&&"listItemIndent"===t[1].type&&t[2].sliceSerialize(t[1],!0).length===i.containerState.size?n:r)(e)},"listItemIndent",i.containerState.size+1)}function Je(e){e.exit(this.containerState.type)}function Ke(e,n,r){const i=this;return T(e,function(e){var t=i.events[i.events.length-1];return(!q(e)&&t&&"listItemPrefixWhitespace"===t[1].type?n:r)(e)},"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}const Gn={name:"setextUnderline",tokenize:ve,resolveTo:Xe};function Xe(e,t){let n=e.length,r,i,u;for(;n--;)if("enter"===e[n][0]){if("content"===e[n][1].type){r=n;break}"paragraph"===e[n][1].type&&(i=n)}else"content"===e[n][1].type&&e.splice(n,1),u||"definition"!==e[n][1].type||(u=n);var o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",u?(e.splice(i,0,["enter",o,t]),e.splice(u+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[u][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function ve(t,n,r){const i=this;let e=i.events.length,u,o;for(;e--;)if("lineEnding"!==i.events[e][1].type&&"linePrefix"!==i.events[e][1].type&&"content"!==i.events[e][1].type){o="paragraph"===i.events[e][1].type;break}return function(e){return i.parser.lazy[i.now().line]||!i.interrupt&&!o?r(e):(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),c(u=e))};function c(e){return e===u?(t.consume(e),c):(t.exit("setextHeadingLineSequence"),T(t,s,"lineSuffix")(e))}function s(e){return null===e||C(e)?(t.exit("setextHeadingLine"),n(e)):r(e)}}const nr={tokenize:tr};function tr(t){const n=this,r=t.attempt(Sn,function(e){if(null!==e)return t.enter("lineEndingBlank"),t.consume(e),t.exit("lineEndingBlank"),n.currentConstruct=void 0,r;t.consume(e)},t.attempt(this.parser.constructs.flowInitial,e,T(t,t.attempt(this.parser.constructs.flow,e,t.attempt(oe,e)),"linePrefix")));return r;function e(e){if(null!==e)return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),n.currentConstruct=void 0,r;t.consume(e)}}const er={resolveAll:st()},rr=ot("string"),ir=ot("text");function ot(s){return{tokenize:function(t){const i=this,u=this.parser.constructs[s],n=t.attempt(u,e,r);return e;function e(e){return(c(e)?n:r)(e)}function r(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return c(e)?(t.exit("data"),n(e)):(t.consume(e),o)}function c(e){if(null===e)return 1;var t=u[e];let n=-1;if(t)for(;++n<t.length;){const r=t[n];if(!r.previous||r.previous.call(i,i.previous))return 1}}},resolveAll:st("text"===s?ur:void 0)}}function st(i){return function(e,t){let n=-1,r;for(;++n<=e.length;)void 0===r?e[n]&&"data"===e[n][1].type&&(r=n,n++):e[n]&&"data"===e[n][1].type||(n!==r+2&&(e[r][1].end=e[n-1][1].end,e.splice(r+2,n-r-2),n=r+2),r=void 0);return i?i(e,t):e}}function ur(i,u){let o=0;for(;++o<=i.length;)if((o===i.length||"lineEnding"===i[o][1].type)&&"data"===i[o-1][1].type){const s=i[o-1][1],l=u.sliceStream(s);let e=l.length,t=-1,n=0,r;for(;e--;){const a=l[e];if("string"==typeof a){for(t=a.length;32===a.charCodeAt(t-1);)n++,t--;if(t)break;t=-1}else if(-2===a)r=!0,n++;else if(-1!==a){e++;break}}var c;n&&(c={type:o===i.length||r||n<2?"lineSuffix":"hardBreakTrailing",start:{line:s.end.line,column:s.end.column-n,offset:s.end.offset-n,_index:s.start._index+e,_bufferIndex:e?t:s.start._bufferIndex+t},end:Object.assign({},s.end)},s.end=Object.assign({},c.start),s.start.offset===s.end.offset?Object.assign(s,c):(i.splice(o,0,["enter",c,u],["exit",c,u]),o+=2)),o++}return i}function lr(e,t,n){let h=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const r={},i=[];let u=[],p=[];const m={consume:function(e){C(e)?(h.line++,h.column=1,h.offset+=-3===e?2:1,k()):-1!==e&&(h.column++,h.offset++),h._bufferIndex<0?h._index++:(h._bufferIndex++,h._bufferIndex===u[h._index].length&&(h._bufferIndex=-1,h._index++)),g.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=x(),g.events.push(["enter",n,g]),p.push(n),n},exit:function(e){const t=p.pop();return t.end=x(),g.events.push(["exit",t,g]),t},attempt:a(function(e,t){f(e,t.from)}),check:a(l),interrupt:a(l,{interrupt:!0})},g={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:c,sliceSerialize:function(e,t){return or(c(e),t)},now:x,defineSkip:function(e){r[e.line]=e.column,k()},write:function(e){return u=Z(u,e),function(){var e;for(;h._index<u.length;){const t=u[h._index];if("string"==typeof t)for(e=h._index,h._bufferIndex<0&&(h._bufferIndex=0);h._index===e&&h._bufferIndex<t.length;)s(t.charCodeAt(h._bufferIndex));else s(t)}}(),null!==u[u.length-1]?[]:(f(t,0),g.events=Ln(i,g.events,g),g.events)}};let o=t.tokenize.call(g,m);return t.resolveAll&&i.push(t),g;function c(e){return ar(u,e)}function x(){return Object.assign({},h)}function s(e){o=o(e)}function l(e,t){t.restore()}function a(f,d){return function(e,t,n){let r,i,u,o;return Array.isArray(e)?c(e):"tokenize"in e?c([e]):function(r){return function(e){var t=null!==e&&r[e],n=null!==e&&r.null,t=[...Array.isArray(t)?t:t?[t]:[],...Array.isArray(n)?n:n?[n]:[]];return c(t)(e)}}(e);function c(e){return r=e,(i=0)===e.length?n:s(e[i])}function s(t){return function(e){return o=function(){const e=x(),t=g.previous,n=g.currentConstruct,r=g.events.length,i=Array.from(p);return{restore:function(){h=e,g.previous=t,g.currentConstruct=n,g.events.length=r,p=i,k()},from:r}}(),(u=t).partial||(g.currentConstruct=t),t.name&&g.parser.constructs.disable.null.includes(t.name)?a():t.tokenize.call(d?Object.assign(Object.create(g),d):g,m,l,a)(e)}}function l(e){return f(u,o),t}function a(e){return o.restore(),++i<r.length?s(r[i]):n}}}function f(e,t){e.resolveAll&&!i.includes(e)&&i.push(e),e.resolve&&en(g.events,t,g.events.length-t,e.resolve(g.events.slice(t),g)),e.resolveTo&&(g.events=e.resolveTo(g.events,g))}function k(){h.line in r&&h.column<2&&(h.column=r[h.line],h.offset+=r[h.line]-1)}}function ar(e,t){var n=t.start._index,r=t.start._bufferIndex,i=t.end._index,t=t.end._bufferIndex;let u;return n===i?u=[e[n].slice(r,t)]:(u=e.slice(n,i),-1<r&&(u[0]=u[0].slice(r)),0<t&&u.push(e[i].slice(0,t))),u}function or(t,n){let r=-1;const i=[];let u;for(;++r<t.length;){var o=t[r];let e;if("string"==typeof o)e=o;else switch(o){case-5:e="\r";break;case-4:e=`
`;break;case-3:e=`\r
`;break;case-2:e=n?" ":"\t";break;case-1:if(!n&&u)continue;e=" ";break;default:e=String.fromCharCode(o)}u=-2===o,i.push(e)}return i.join("")}const sr={[42]:$,43:$,45:$,48:$,49:$,50:$,51:$,52:$,53:$,54:$,55:$,56:$,57:$,62:tt},cr={[91]:me},hr={"-2":wn,"-1":wn,[32]:wn},pr={[35]:be,42:bn,45:[Gn,bn],60:Ee,61:Gn,95:bn,96:Zn,126:Zn},mr={[38]:rt,92:et},fr={"-5":Cn,"-4":Cn,"-3":Cn,[33]:qe,38:rt,42:In,60:[Ut,Ie],91:Ne,92:[ke,et],93:Dn,95:In,96:re},xr={null:[In,er]},gr={null:[42,95]},kr={null:[]},dr=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:gr,contentInitial:cr,disable:kr,document:sr,flow:pr,flowInitial:hr,insideSpan:xr,string:mr,text:fr},Symbol.toStringTag,{value:"Module"}));function br(e={}){const t=Bt([dr].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(Rt),document:r(Ht),flow:r(nr),string:r(rr),text:r(ir)};return n;function r(t){return function(e){return lr(n,t,e)}}}const Jn=/[\0\t\n\r]/g;function yr(){let l=1,a="",f=!0,d;return function(e,t,n){const r=[];let i,u,o,c,s;for(e=a+e.toString(t),o=0,a="",f&&(65279===e.charCodeAt(0)&&o++,f=void 0);o<e.length;){if(Jn.lastIndex=o,i=Jn.exec(e),c=i&&void 0!==i.index?i.index:e.length,s=e.charCodeAt(c),!i){a=e.slice(o);break}if(10===s&&o===c&&d)r.push(-3),d=void 0;else switch(d&&(r.push(-5),d=void 0),o<c&&(r.push(e.slice(o,c)),l+=c-o),s){case 0:r.push(65533),l++;break;case 9:for(u=4*Math.ceil(l/4),r.push(-2);l++<u;)r.push(-1);break;case 10:r.push(-4),l=1;break;default:d=!0,l=1}o=c+1}return n&&(d&&r.push(-5),a&&r.push(a),r.push(null)),r}}function Sr(e){for(;!it(e););return e}function ct(e,t){e=Number.parseInt(e,t);return e<9||11===e||13<e&&e<32||126<e&&e<160||55295<e&&e<57344||64975<e&&e<65008||65535==(65535&e)||65534==(65535&e)||1114111<e?"ï¿½":String.fromCharCode(e)}const Fr=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Er(e){return e.replace(Fr,wr)}function wr(e,t,n){return t||(35===n.charCodeAt(0)?(t=n.charCodeAt(1),ct(n.slice((t=120===t||88===t)?2:1),t?16:10)):On(n)||e)}function yn(e){return e&&"object"==typeof e?"position"in e||"type"in e?Kn(e.position):"start"in e||"end"in e?Kn(e):"line"in e||"column"in e?Tn(e):"":""}function Tn(e){return Xn(e&&e.line)+":"+Xn(e&&e.column)}function Kn(e){return Tn(e&&e.start)+"-"+Tn(e&&e.end)}function Xn(e){return e&&"number"==typeof e?e:1}const ht={}.hasOwnProperty,pt=function(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),Cr(n)(Sr(br(n).document().write(yr()(e,t,!0))))};function Cr(e){const s={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:t(y),autolinkProtocol:r,autolinkEmail:r,atxHeading:t(g),blockQuote:t(function(){return{type:"blockquote",children:[]}}),characterEscape:r,characterReference:r,codeFenced:t(m),codeFencedFenceInfo:f,codeFencedFenceMeta:f,codeIndented:t(m,f),codeText:t(function(){return{type:"inlineCode",value:""}},f),codeTextData:r,data:r,codeFlowValue:r,definition:t(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:f,definitionLabelString:f,definitionTitleString:f,emphasis:t(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:t(x),hardBreakTrailing:t(x),htmlFlow:t(k,f),htmlFlowData:r,htmlText:t(k,f),htmlTextData:r,image:t(function(){return{type:"image",title:null,url:"",alt:null}}),label:f,link:t(y),listItem:t(function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}),listItemValue:function(e){if(u.expectingFirstListItemValue){const t=this.stack[this.stack.length-2];t.start=Number.parseInt(this.sliceSerialize(e),10),l("expectingFirstListItemValue")}},listOrdered:t(v,function(){l("expectingFirstListItemValue",!0)}),listUnordered:t(v),paragraph:t(function(){return{type:"paragraph",children:[]}}),reference:function(){l("referenceType","collapsed")},referenceString:f,resourceDestinationString:f,resourceTitleString:f,setextHeading:t(g),strong:t(function(){return{type:"strong",children:[]}}),thematicBreak:t(function(){return{type:"thematicBreak"}})},exit:{atxHeading:n(),atxHeadingSequence:function(e){const t=this.stack[this.stack.length-1];t.depth||(e=this.sliceSerialize(e).length,t.depth=e)},autolink:n(),autolinkEmail:function(e){i.call(this,e);const t=this.stack[this.stack.length-1];t.url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){i.call(this,e);const t=this.stack[this.stack.length-1];t.url=this.sliceSerialize(e)},blockQuote:n(),characterEscapeValue:i,characterReferenceMarkerHexadecimal:c,characterReferenceMarkerNumeric:c,characterReferenceValue:function(e){var t=this.sliceSerialize(e),n=u.characterReferenceType;let r;n?(r=ct(t,"characterReferenceMarkerNumeric"===n?10:16),l("characterReferenceType")):r=On(t);const i=this.stack.pop();i.value+=r,i.position.end=on(e.end)},codeFenced:n(function(){const e=this.resume(),t=this.stack[this.stack.length-1];t.value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}),codeFencedFence:function(){u.flowCodeInside||(this.buffer(),l("flowCodeInside",!0))},codeFencedFenceInfo:function(){const e=this.resume(),t=this.stack[this.stack.length-1];t.lang=e},codeFencedFenceMeta:function(){const e=this.resume(),t=this.stack[this.stack.length-1];t.meta=e},codeFlowValue:i,codeIndented:n(function(){const e=this.resume(),t=this.stack[this.stack.length-1];t.value=e.replace(/(\r?\n|\r)$/g,"")}),codeText:n(function(){const e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}),codeTextData:i,data:i,definition:n(),definitionDestinationString:function(){const e=this.resume(),t=this.stack[this.stack.length-1];t.url=e},definitionLabelString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=fn(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){const e=this.resume(),t=this.stack[this.stack.length-1];t.title=e},emphasis:n(),hardBreakEscape:n(o),hardBreakTrailing:n(o),htmlFlow:n(function(){const e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}),htmlFlowData:i,htmlText:n(function(){const e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}),htmlTextData:i,image:n(function(){const e=this.stack[this.stack.length-1];{var t;u.inReference?(t=u.referenceType||"shortcut",e.type+="Reference",e.referenceType=t,delete e.url,delete e.title):(delete e.identifier,delete e.label)}l("referenceType")}),label:function(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];{var r;l("inReference",!0),"link"===n.type?(r=e.children,n.children=r):n.alt=t}},labelText:function(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=Er(t),n.identifier=fn(t).toLowerCase()},lineEnding:function(e){var t=this.stack[this.stack.length-1];if(u.atHardBreak){const n=t.children[t.children.length-1];n.position.end=on(e.end),l("atHardBreak")}else!u.setextHeadingSlurpLineEnding&&s.canContainEols.includes(t.type)&&(r.call(this,e),i.call(this,e))},link:n(function(){const e=this.stack[this.stack.length-1];{var t;u.inReference?(t=u.referenceType||"shortcut",e.type+="Reference",e.referenceType=t,delete e.url,delete e.title):(delete e.identifier,delete e.label)}l("referenceType")}),listItem:n(),listOrdered:n(),listUnordered:n(),paragraph:n(),referenceString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=fn(this.sliceSerialize(e)).toLowerCase(),l("referenceType","full")},resourceDestinationString:function(){const e=this.resume(),t=this.stack[this.stack.length-1];t.url=e},resourceTitleString:function(){const e=this.resume(),t=this.stack[this.stack.length-1];t.title=e},resource:function(){l("inReference")},setextHeading:n(function(){l("setextHeadingSlurpLineEnding")}),setextHeadingLineSequence:function(e){const t=this.stack[this.stack.length-1];t.depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2},setextHeadingText:function(){l("setextHeadingSlurpLineEnding",!0)},strong:n(),thematicBreak:n()}},u=(mt(s,(e||{}).mdastExtensions||[]),{});return function(e){let t={type:"root",children:[]};const n={stack:[t],tokenStack:[],config:s,enter:d,exit:h,buffer:f,resume:p,setData:l,getData:a},r=[];let i=-1;for(;++i<e.length;){var u;"listOrdered"!==e[i][1].type&&"listUnordered"!==e[i][1].type||("enter"===e[i][0]?r.push(i):(u=r.pop(),i=function(t,e,n){let r=e-1,i=-1,u=!1,o,c,s,l;for(;++r<=n;){var a=t[r];if("listUnordered"===a[1].type||"listOrdered"===a[1].type||"blockQuote"===a[1].type?("enter"===a[0]?i++:i--,l=void 0):"lineEndingBlank"===a[1].type?"enter"===a[0]&&(!o||l||i||s||(s=r),l=void 0):"linePrefix"!==a[1].type&&"listItemValue"!==a[1].type&&"listItemMarker"!==a[1].type&&"listItemPrefix"!==a[1].type&&"listItemPrefixWhitespace"!==a[1].type&&(l=void 0),!i&&"enter"===a[0]&&"listItemPrefix"===a[1].type||-1===i&&"exit"===a[0]&&("listUnordered"===a[1].type||"listOrdered"===a[1].type)){if(o){let e=r;for(c=void 0;e--;){const f=t[e];if("lineEnding"===f[1].type||"lineEndingBlank"===f[1].type)"exit"!==f[0]&&(c&&(t[c][1].type="lineEndingBlank",u=!0),f[1].type="lineEnding",c=e);else if("linePrefix"!==f[1].type&&"blockQuotePrefix"!==f[1].type&&"blockQuotePrefixWhitespace"!==f[1].type&&"blockQuoteMarker"!==f[1].type&&"listItemIndent"!==f[1].type)break}s&&(!c||s<c)&&(o._spread=!0),o.end=Object.assign({},c?t[c][1].start:a[1].end),t.splice(c||r,0,["exit",o,a[2]]),r++,n++}"listItemPrefix"===a[1].type&&(o={type:"listItem",_spread:!1,start:Object.assign({},a[1].start)},t.splice(r,0,["enter",o,a[2]]),r++,n++,s=void 0,l=!0)}}return t[e][1]._spread=u,n}(e,u,i)))}for(i=-1;++i<e.length;){const o=s[e[i][0]];ht.call(o,e[i][1].type)&&o[e[i][1].type].call(Object.assign({sliceSerialize:e[i][2].sliceSerialize},n),e[i][1])}if(0<n.tokenStack.length){const c=n.tokenStack[n.tokenStack.length-1];(c[1]||vn).call(n,void 0,c[0])}for(t.position={start:on(0<e.length?e[0][1].start:{line:1,column:1,offset:0}),end:on(0<e.length?e[e.length-2][1].end:{line:1,column:1,offset:0})},i=-1;++i<s.transforms.length;)t=s.transforms[i](t)||t;return t};function l(e,t){u[e]=t}function a(e){return u[e]}function t(t,n){return function(e){d.call(this,t(e),e),n&&n.call(this,e)}}function f(){this.stack.push({type:"fragment",children:[]})}function d(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:on(t.start)},e}function n(t){return function(e){t&&t.call(this,e),h.call(this,e)}}function h(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(r)return r[0].type!==e.type&&(t||r[1]||vn).call(this,e,r[0]),n.position.end=on(e.end),n;throw new Error("Cannot close `"+e.type+"` ("+yn({start:e.start,end:e.end})+"): itâs not open")}function p(){return Tt(this.stack.pop())}function r(e){const t=this.stack[this.stack.length-1];let n=t.children[t.children.length-1];n&&"text"===n.type||((n={type:"text",value:""}).position={start:on(e.start)},t.children.push(n)),this.stack.push(n)}function i(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=on(e.end)}function o(){l("atHardBreak",!0)}function c(e){l("characterReferenceType",e.type)}function m(){return{type:"code",lang:null,meta:null,value:""}}function g(){return{type:"heading",depth:void 0,children:[]}}function x(){return{type:"break"}}function k(){return{type:"html",value:""}}function y(){return{type:"link",title:null,url:"",children:[]}}function v(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}}function on(e){return{line:e.line,column:e.column,offset:e.offset}}function mt(e,t){let n=-1;for(;++n<t.length;){var r=t[n];(Array.isArray(r)?mt:Ar)(e,r)}}function Ar(e,t){let n;for(n in t){var r,i;ht.call(t,n)&&("canContainEols"===n?(r=t[n])&&e[n].push(...r):"transforms"===n?(r=t[n])&&e[n].push(...r):"enter"!==n&&"exit"!==n||(i=t[n])&&Object.assign(e[n],i))}}function vn(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+yn({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+yn({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+yn({start:t.start,end:t.end})+") is still open")}function zr(e){e=e.replace(/\n{2,}/g,`
`);return At(e)}function Ir(e){const t=zr(e),n=pt(t)["children"],i=[[]];let u=0;return n.forEach(e=>{"paragraph"===e.type&&e.children.forEach(e=>{!function t(n,r="normal"){"text"===n.type?n.value.split(`
`).forEach((e,t)=>{0!==t&&(u++,i.push([])),e.split(" ").forEach(e=>{e&&i[u].push({content:e,type:r})})}):"strong"!==n.type&&"emphasis"!==n.type||n.children.forEach(e=>{t(e,n.type)})}(e)})}),i}function Tr(e){const t=pt(e)["children"];return t.map(function e(t){return"text"===t.type?t.value.replace(/\n/g,"<br/>"):"strong"===t.type?`<strong>${t.children.map(e).join("")}</strong>`:"emphasis"===t.type?`<em>${t.children.map(e).join("")}</em>`:"paragraph"===t.type?`<p>${t.children.map(e).join("")}</p>`:"Unsupported markdown: "+t.type}).join("")}function Br(e){return Intl.Segmenter?[...(new Intl.Segmenter).segment(e)].map(e=>e.segment):[...e]}function Lr(e,t){return ft(e,[],Br(t.content),t.type)}function ft(e,t,n,r){if(0===n.length)return[{content:t.join(""),type:r},{content:"",type:r}];const[i,...u]=n,o=[...t,i];return e([{content:o.join(""),type:r}])?ft(e,o,u,r):(0===t.length&&i&&(t.push(i),n.shift()),[{content:t.join(""),type:r},{content:n.join(""),type:r}])}function Or(e,t){if(e.some(({content:e})=>e.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Bn(e,t)}function Bn(e,t,n=[],r=[]){if(0===e.length)return 0<r.length&&n.push(r),0<n.length?n:[];let i="";" "===e[0].content&&(i=" ",e.shift());const u=e.shift()??{content:" ",type:"normal"},o=[...r];return""!==i&&o.push({content:i,type:"normal"}),o.push(u),t(o)?Bn(e,t,n,o):(0<r.length?(n.push(r),e.unshift(u)):u.content&&([r,c]=Lr(t,u),n.push([r]),c.content&&e.unshift(c)),Bn(e,t,n));var c}function Dr(e,t){t&&e.attr("style",t)}function Pr(e,t,n,r,i=!1){const u=e.append("foreignObject"),o=u.append("xhtml:div"),c=t.label,s=t.isNode?"nodeLabel":"edgeLabel";o.html(`
    <span class="${s} ${r}" `+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+c+"</span>"),Dr(o,t.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("max-width",n+"px"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&o.attr("class","labelBkg");let l=o.node().getBoundingClientRect();return l.width===n&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",n+"px"),l=o.node().getBoundingClientRect()),u.style("width",l.width),u.style("height",l.height),u.node()}function xt(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}function _r(e,t,n){const r=e.append("text"),i=xt(r,1,t);gt(i,n);e=i.node().getComputedTextLength();return r.remove(),e}function Mr(t,e,n,r=!1){const i=e.append("g"),u=i.insert("rect").attr("class","background"),o=i.append("text").attr("y","-10.1");let c=0;for(const l of n){var s=e=>_r(i,1.1,e)<=t;for(const a of s(l)?[l]:Or(l,s))gt(xt(o,c,1.1),a),c++}return r?(e=o.node().getBBox(),u.attr("x",-2).attr("y",-2).attr("width",e.width+4).attr("height",e.height+4),i.node()):o.node()}function gt(r,e){r.text(""),e.forEach((e,t)=>{const n=r.append("tspan").attr("font-style","emphasis"===e.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===e.type?"bold":"normal");0===t?n.text(e.content):n.text(" "+e.content)})}const Rr=(e,t="",{style:n="",isTitle:r=!1,classes:i="",useHtmlLabels:u=!0,isNode:o=!0,width:c=200,addSvgBackground:s=!1}={})=>{return zt.info("createText",t,n,r,i,u,o,s),u?(r=Tr(t),Pr(e,{isNode:o,label:It(r).replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`),labelStyle:n.replace("fill:","color:")},c,i,s)):Mr(c,e,Ir(t),s)};export{Rr as c};