import{i as a}from"./init-f9637058.js";class o extends Map{constructor(e,t=g){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(var[n,r]of e)this.set(n,r)}get(e){return super.get(c(this,e))}has(e){return super.has(c(this,e))}set(e,t){return super.set(l(this,e),t)}delete(e){return super.delete(p(this,e))}}function c({_intern:e,_key:t},n){t=t(n);return e.has(t)?e.get(t):n}function l({_intern:e,_key:t},n){t=t(n);return e.has(t)?e.get(t):(e.set(t,n),n)}function p({_intern:e,_key:t},n){t=t(n);return e.has(t)&&(n=e.get(t),e.delete(t)),n}function g(e){return null!==e&&"object"==typeof e?e.valueOf():e}const f=Symbol("implicit");function h(){var n=new o,r=[],u=[],i=f;function s(e){let t=n.get(e);if(void 0===t){if(i!==f)return i;n.set(e,t=r.push(e)-1)}return u[t%u.length]}return s.domain=function(e){if(!arguments.length)return r.slice();r=[],n=new o;for(const t of e)n.has(t)||n.set(t,r.push(t)-1);return s},s.range=function(e){return arguments.length?(u=Array.from(e),s):u.slice()},s.unknown=function(e){return arguments.length?(i=e,s):i},s.copy=function(){return h(r,u).unknown(i)},a.apply(s,arguments),s}export{h as o};