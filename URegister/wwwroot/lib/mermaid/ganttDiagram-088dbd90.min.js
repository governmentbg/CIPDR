import{sanitizeUrl}from"@braintree/sanitize-url";import dayjs from"dayjs";import dayjsIsoWeek from"dayjs/plugin/isoWeek.js";import dayjsCustomParseFormat from"dayjs/plugin/customParseFormat.js";import dayjsAdvancedFormat from"dayjs/plugin/advancedFormat.js";import{c as getConfig,s as setAccTitle,g as getAccTitle,r as setDiagramTitle,t as getDiagramTitle,b as setAccDescription,a as getAccDescription,m as mermaidAPI,v as clear$1,u as utils,l as log,i as configureSvgSize,e as common}from"./mermaid-768dc893.js";import{select,scaleTime,min,max,scaleLinear,interpolateHcl,axisBottom,timeFormat,timeMonth,timeDay,timeHour,timeMinute,axisTop,timeMonday,timeTuesday,timeWednesday,timeThursday,timeFriday,timeSaturday,timeSunday}from"d3";import"ts-dedent";import"dompurify";import"khroma";import"lodash-es/memoize.js";import"lodash-es/merge.js";import"stylis";import"lodash-es/isEmpty.js";var parser=function(){function t(t,e,i,s){for(i=i||{},s=t.length;s--;i[t[s]]=e);return i}var e=[1,3],i=[1,5],s=[7,9,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,31,33,34,36,43,48],a=[1,32],r=[1,33],n=[1,34],o=[1,35],c=[1,36],l=[1,37],d=[1,38],u=[1,15],h=[1,16],m=[1,17],y=[1,18],k=[1,19],f=[1,20],p=[1,21],g=[1,22],T=[1,24],v=[1,25],b=[1,26],x=[1,27],_=[1,28],w=[1,30],D=[1,39],S=[1,42],C=[5,7,9,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,31,33,34,36,43,48],e={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,weekday:12,weekday_monday:13,weekday_tuesday:14,weekday_wednesday:15,weekday_thursday:16,weekday_friday:17,weekday_saturday:18,weekday_sunday:19,dateFormat:20,inclusiveEndDates:21,topAxis:22,axisFormat:23,tickInterval:24,excludes:25,includes:26,todayMarker:27,title:28,acc_title:29,acc_title_value:30,acc_descr:31,acc_descr_value:32,acc_descr_multiline_value:33,section:34,clickStatement:35,taskTxt:36,taskData:37,openDirective:38,typeDirective:39,closeDirective:40,":":41,argDirective:42,click:43,callbackname:44,callbackargs:45,href:46,clickStatementDebug:47,open_directive:48,type_directive:49,arg_directive:50,close_directive:51,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",13:"weekday_monday",14:"weekday_tuesday",15:"weekday_wednesday",16:"weekday_thursday",17:"weekday_friday",18:"weekday_saturday",19:"weekday_sunday",20:"dateFormat",21:"inclusiveEndDates",22:"topAxis",23:"axisFormat",24:"tickInterval",25:"excludes",26:"includes",27:"todayMarker",28:"title",29:"acc_title",30:"acc_title_value",31:"acc_descr",32:"acc_descr_value",33:"acc_descr_multiline_value",34:"section",36:"taskTxt",37:"taskData",41:":",43:"click",44:"callbackname",45:"callbackargs",46:"href",48:"open_directive",49:"type_directive",50:"arg_directive",51:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[12,1],[12,1],[12,1],[12,1],[12,1],[12,1],[12,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[35,2],[35,3],[35,3],[35,4],[35,3],[35,4],[35,2],[47,2],[47,3],[47,3],[47,4],[47,3],[47,4],[47,2],[38,1],[39,1],[42,1],[40,1]],performAction:function(t,e,i,s,a,r,n){var o=r.length-1;switch(a){case 2:return r[o-1];case 3:this.$=[];break;case 4:r[o-1].push(r[o]),this.$=r[o-1];break;case 5:case 6:this.$=r[o];break;case 7:case 8:this.$=[];break;case 9:s.setWeekday("monday");break;case 10:s.setWeekday("tuesday");break;case 11:s.setWeekday("wednesday");break;case 12:s.setWeekday("thursday");break;case 13:s.setWeekday("friday");break;case 14:s.setWeekday("saturday");break;case 15:s.setWeekday("sunday");break;case 16:s.setDateFormat(r[o].substr(11)),this.$=r[o].substr(11);break;case 17:s.enableInclusiveEndDates(),this.$=r[o].substr(18);break;case 18:s.TopAxis(),this.$=r[o].substr(8);break;case 19:s.setAxisFormat(r[o].substr(11)),this.$=r[o].substr(11);break;case 20:s.setTickInterval(r[o].substr(13)),this.$=r[o].substr(13);break;case 21:s.setExcludes(r[o].substr(9)),this.$=r[o].substr(9);break;case 22:s.setIncludes(r[o].substr(9)),this.$=r[o].substr(9);break;case 23:s.setTodayMarker(r[o].substr(12)),this.$=r[o].substr(12);break;case 25:s.setDiagramTitle(r[o].substr(6)),this.$=r[o].substr(6);break;case 26:this.$=r[o].trim(),s.setAccTitle(this.$);break;case 27:case 28:this.$=r[o].trim(),s.setAccDescription(this.$);break;case 29:s.addSection(r[o].substr(8)),this.$=r[o].substr(8);break;case 31:s.addTask(r[o-1],r[o]),this.$="task";break;case 35:this.$=r[o-1],s.setClickEvent(r[o-1],r[o],null);break;case 36:this.$=r[o-2],s.setClickEvent(r[o-2],r[o-1],r[o]);break;case 37:this.$=r[o-2],s.setClickEvent(r[o-2],r[o-1],null),s.setLink(r[o-2],r[o]);break;case 38:this.$=r[o-3],s.setClickEvent(r[o-3],r[o-2],r[o-1]),s.setLink(r[o-3],r[o]);break;case 39:this.$=r[o-2],s.setClickEvent(r[o-2],r[o],null),s.setLink(r[o-2],r[o-1]);break;case 40:this.$=r[o-3],s.setClickEvent(r[o-3],r[o-1],r[o]),s.setLink(r[o-3],r[o-2]);break;case 41:this.$=r[o-1],s.setLink(r[o-1],r[o]);break;case 42:case 48:this.$=r[o-1]+" "+r[o];break;case 43:case 44:case 46:this.$=r[o-2]+" "+r[o-1]+" "+r[o];break;case 45:case 47:this.$=r[o-3]+" "+r[o-2]+" "+r[o-1]+" "+r[o];break;case 49:s.parseDirective("%%{","open_directive");break;case 50:s.parseDirective(r[o],"type_directive");break;case 51:r[o]=r[o].trim().replace(/'/g,'"'),s.parseDirective(r[o],"arg_directive");break;case 52:s.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:e,38:4,48:i},{1:[3]},{3:6,4:2,5:e,38:4,48:i},t(s,[2,3],{6:7}),{39:8,49:[1,9]},{49:[2,49]},{1:[2,1]},{4:31,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:23,13:a,14:r,15:n,16:o,17:c,18:l,19:d,20:u,21:h,22:m,23:y,24:k,25:f,26:p,27:g,28:T,29:v,31:b,33:x,34:_,35:29,36:w,38:4,43:D,48:i},{40:40,41:[1,41],51:S},t([41,51],[2,50]),t(s,[2,8],{1:[2,2]}),t(s,[2,4]),{4:31,10:43,12:23,13:a,14:r,15:n,16:o,17:c,18:l,19:d,20:u,21:h,22:m,23:y,24:k,25:f,26:p,27:g,28:T,29:v,31:b,33:x,34:_,35:29,36:w,38:4,43:D,48:i},t(s,[2,6]),t(s,[2,7]),t(s,[2,16]),t(s,[2,17]),t(s,[2,18]),t(s,[2,19]),t(s,[2,20]),t(s,[2,21]),t(s,[2,22]),t(s,[2,23]),t(s,[2,24]),t(s,[2,25]),{30:[1,44]},{32:[1,45]},t(s,[2,28]),t(s,[2,29]),t(s,[2,30]),{37:[1,46]},t(s,[2,32]),t(s,[2,9]),t(s,[2,10]),t(s,[2,11]),t(s,[2,12]),t(s,[2,13]),t(s,[2,14]),t(s,[2,15]),{44:[1,47],46:[1,48]},{11:[1,49]},{42:50,50:[1,51]},{11:[2,52]},t(s,[2,5]),t(s,[2,26]),t(s,[2,27]),t(s,[2,31]),t(s,[2,35],{45:[1,52],46:[1,53]}),t(s,[2,41],{44:[1,54]}),t(C,[2,33]),{40:55,51:S},{51:[2,51]},t(s,[2,36],{46:[1,56]}),t(s,[2,37]),t(s,[2,39],{45:[1,57]}),{11:[1,58]},t(s,[2,38]),t(s,[2,40]),t(C,[2,34])],defaultActions:{5:[2,49],6:[2,1],42:[2,52],51:[2,51]},parseError:function(t,e){var i;if(!e.recoverable)throw(i=new Error(t)).hash=e,i;this.trace(t)},parse:function(t){var e,i=this,s=[0],a=[],r=[null],n=[],o=this.table,c="",l=0,d=0,u=1,h=n.slice.call(arguments,1),m=Object.create(this.lexer),y={yy:{}};for(e in this.yy)Object.prototype.hasOwnProperty.call(this.yy,e)&&(y.yy[e]=this.yy[e]);m.setInput(t,y.yy),y.yy.lexer=m,y.yy.parser=this,void 0===m.yylloc&&(m.yylloc={});var k=m.yylloc,f=(n.push(k),m.options&&m.options.ranges);"function"==typeof y.yy.parseError?this.parseError=y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var p,g,T,v,b,x,_={};;){if(g=s[s.length-1],void 0===(T=this.defaultActions[g]||(null==p&&(w=void 0,"number"!=typeof(w=a.pop()||m.lex()||u)&&(w instanceof Array&&(w=(a=w).pop()),w=i.symbols_[w]||w),p=w),o[g]&&o[g][p]))||!T.length||!T[0]){var w="",D=[];for(v in o[g])this.terminals_[v]&&2<v&&D.push("'"+this.terminals_[v]+"'");w=m.showPosition?"Parse error on line "+(l+1)+":\n"+m.showPosition()+"\nExpecting "+D.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(p==u?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(w,{text:m.match,token:this.terminals_[p]||p,line:m.yylineno,loc:k,expected:D})}if(T[0]instanceof Array&&1<T.length)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(T[0]){case 1:s.push(p),r.push(m.yytext),n.push(m.yylloc),s.push(T[1]),p=null,d=m.yyleng,c=m.yytext,l=m.yylineno,k=m.yylloc;break;case 2:if(b=this.productions_[T[1]][1],_.$=r[r.length-b],_._$={first_line:n[n.length-(b||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(b||1)].first_column,last_column:n[n.length-1].last_column},f&&(_._$.range=[n[n.length-(b||1)].range[0],n[n.length-1].range[1]]),void 0!==(x=this.performAction.apply(_,[c,d,l,y.yy,T[1],r,n].concat(h))))return x;b&&(s=s.slice(0,-1*b*2),r=r.slice(0,-1*b),n=n.slice(0,-1*b)),s.push(this.productions_[T[1]][0]),r.push(_.$),n.push(_._$),x=o[s[s.length-2]][s[s.length-1]],s.push(x);break;case 3:return!0}}return!0}};function E(){this.yy={}}return e.lexer={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g),t=(this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e,this.match.split(/(?:\r\n?|\n)/g)),s=(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1),this.yylloc.range);return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===t.length?this.yylloc.first_column:0)+t[t.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,s;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var a in s)this[a]=s[a];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var t,e,i,s,a=this._currentRules(),r=0;r<a.length;r++)if((i=this._input.match(this.rules[a[r]]))&&(!e||i[0].length>e[0].length))if(e=i,s=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,a[r])))return t;if(!this._backtrack)return!1;e=!1}else if(!this.options.flex)break;return e?!1!==(t=this.test_match(e,a[s]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL).rules},topState:function(t){return 0<=(t=this.conditionStack.length-1-Math.abs(t||0))?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,i,s){switch(i){case 0:return this.begin("open_directive"),48;case 1:return this.begin("type_directive"),49;case 2:return this.popState(),this.begin("arg_directive"),41;case 3:return this.popState(),this.popState(),51;case 4:return 50;case 5:return this.begin("acc_title"),29;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),31;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:case 13:case 14:break;case 15:return 11;case 16:case 17:case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 46;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 44;case 26:this.popState();break;case 27:return 45;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 43;case 31:return 5;case 32:return 20;case 33:return 21;case 34:return 22;case 35:return 23;case 36:return 24;case 37:return 26;case 38:return 25;case 39:return 27;case 40:return 13;case 41:return 14;case 42:return 15;case 43:return 16;case 44:return 17;case 45:return 18;case 46:return 19;case 47:return"date";case 48:return 28;case 49:return"accDescription";case 50:return 34;case 51:return 36;case 52:return 37;case 53:return 41;case 54:return 7;case 55:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}},new((E.prototype=e).Parser=E)}();const ganttParser=parser.parser=parser;dayjs.extend(dayjsIsoWeek),dayjs.extend(dayjsCustomParseFormat),dayjs.extend(dayjsAdvancedFormat);let dateFormat="",axisFormat="",tickInterval=void 0,todayMarker="",includes=[],excludes=[],links={},sections=[],tasks=[],currentSection="",displayMode="";const tags=["active","done","crit","milestone"];let funs=[],inclusiveEndDates=!1,topAxis=!1,weekday="sunday",lastOrder=0;const parseDirective=function(t,e,i){mermaidAPI.parseDirective(this,t,e,i)},clear=function(){sections=[],tasks=[],currentSection="",funs=[],taskCnt=0,lastTask=void 0,lastTaskID=void 0,rawTasks=[],dateFormat="",axisFormat="",displayMode="",tickInterval=void 0,todayMarker="",includes=[],excludes=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0,links={},clear$1(),weekday="sunday"},setAxisFormat=function(t){axisFormat=t},getAxisFormat=function(){return axisFormat},setTickInterval=function(t){tickInterval=t},getTickInterval=function(){return tickInterval},setTodayMarker=function(t){todayMarker=t},getTodayMarker=function(){return todayMarker},setDateFormat=function(t){dateFormat=t},enableInclusiveEndDates=function(){inclusiveEndDates=!0},endDatesAreInclusive=function(){return inclusiveEndDates},enableTopAxis=function(){topAxis=!0},topAxisEnabled=function(){return topAxis},setDisplayMode=function(t){displayMode=t},getDisplayMode=function(){return displayMode},getDateFormat=function(){return dateFormat},setIncludes=function(t){includes=t.toLowerCase().split(/[\s,]+/)},getIncludes=function(){return includes},setExcludes=function(t){excludes=t.toLowerCase().split(/[\s,]+/)},getExcludes=function(){return excludes},getLinks=function(){return links},addSection=function(t){currentSection=t,sections.push(t)},getSections=function(){return sections},getTasks=function(){let t=compileTasks();let e=0;for(;!t&&e<10;)t=compileTasks(),e++;return tasks=rawTasks},isInvalidDate=function(t,e,i,s){return!s.includes(t.format(e.trim()))&&(!!(6<=t.isoWeekday()&&i.includes("weekends"))||(!!i.includes(t.format("dddd").toLowerCase())||i.includes(t.format(e.trim()))))},setWeekday=function(t){weekday=t},getWeekday=function(){return weekday},checkTaskDates=function(i,s,a,r){if(a.length&&!i.manualEndTime){let t;t=(t=i.startTime instanceof Date?dayjs(i.startTime):dayjs(i.startTime,s,!0)).add(1,"d");let e;e=i.endTime instanceof Date?dayjs(i.endTime):dayjs(i.endTime,s,!0);const[n,o]=fixTaskDates(t,e,s,a,r);i.endTime=n.toDate(),i.renderEndTime=o}},fixTaskDates=function(t,e,i,s,a){let r=!1,n=null;for(;t<=e;)r||(n=e.toDate()),(r=isInvalidDate(t,i,s,a))&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,n]},getStartDate=function(t,e,i){i=i.trim();const s=/^after\s+([\d\w- ]+)/.exec(i.trim());if(null!==s){let e=null;if(s[1].split(" ").forEach(function(t){t=findTaskById(t);void 0!==t&&(!e||t.endTime>e.endTime)&&(e=t)}),e)return e.endTime;{const r=new Date;return r.setHours(0,0,0,0),r}}let a=dayjs(i,e.trim(),!0);if(a.isValid())return a.toDate();{log.debug("Invalid date:"+i),log.debug("With date format:"+e.trim());const n=new Date(i);if(void 0===n||isNaN(n.getTime())||n.getFullYear()<-1e4||1e4<n.getFullYear())throw new Error("Invalid date:"+i);return n}},parseDuration=function(t){t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return null!==t?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},getEndDate=function(t,e,i,s=!1){i=i.trim();let a=dayjs(i,e.trim(),!0);if(a.isValid())return(a=s?a.add(1,"d"):a).toDate();let r=dayjs(t);var[e,s]=parseDuration(i);if(!Number.isNaN(e)){const n=r.add(e,s);n.isValid()&&(r=n)}return r.toDate()};let taskCnt=0;const parseId=function(t){return void 0===t?"task"+(taskCnt+=1):t},compileData=function(t,e){let i;const s=(i=":"===e.substr(0,1)?e.substr(1,e.length):e).split(","),a={};getTaskTags(s,a,tags);for(let t=0;t<s.length;t++)s[t]=s[t].trim();let r="";switch(s.length){case 1:a.id=parseId(),a.startTime=t.endTime,r=s[0];break;case 2:a.id=parseId(),a.startTime=getStartDate(void 0,dateFormat,s[0]),r=s[1];break;case 3:a.id=parseId(s[0]),a.startTime=getStartDate(void 0,dateFormat,s[1]),r=s[2]}return r&&(a.endTime=getEndDate(a.startTime,dateFormat,r,inclusiveEndDates),a.manualEndTime=dayjs(r,"YYYY-MM-DD",!0).isValid(),checkTaskDates(a,dateFormat,excludes,includes)),a},parseData=function(t,e){let i;const s=(i=":"===e.substr(0,1)?e.substr(1,e.length):e).split(","),a={};getTaskTags(s,a,tags);for(let t=0;t<s.length;t++)s[t]=s[t].trim();switch(s.length){case 1:a.id=parseId(),a.startTime={type:"prevTaskEnd",id:t},a.endTime={data:s[0]};break;case 2:a.id=parseId(),a.startTime={type:"getStartDate",startData:s[0]},a.endTime={data:s[1]};break;case 3:a.id=parseId(s[0]),a.startTime={type:"getStartDate",startData:s[1]},a.endTime={data:s[2]}}return a};let lastTask,lastTaskID,rawTasks=[];const taskDb={},addTask=function(t,e){const i={section:currentSection,type:currentSection,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]};t=parseData(lastTaskID,e),i.raw.startTime=t.startTime,i.raw.endTime=t.endTime,i.id=t.id,i.prevTaskId=lastTaskID,i.active=t.active,i.done=t.done,i.crit=t.crit,i.milestone=t.milestone,i.order=lastOrder,lastOrder++,e=rawTasks.push(i);lastTaskID=i.id,taskDb[i.id]=e-1},findTaskById=function(t){t=taskDb[t];return rawTasks[t]},addTaskOrg=function(t,e){const i={section:currentSection,type:currentSection,description:t,task:t,classes:[]};t=compileData(lastTask,e);i.startTime=t.startTime,i.endTime=t.endTime,i.id=t.id,i.active=t.active,i.done=t.done,i.crit=t.crit,i.milestone=t.milestone,lastTask=i,tasks.push(i)},compileTasks=function(){var t,e;let i=!0;for([t,e]of rawTasks.entries()){{s=void 0;a=void 0;a=void 0;var s=t;const r=rawTasks[s];switch(rawTasks[s].raw.startTime.type){case"prevTaskEnd":var a=findTaskById(r.prevTaskId);r.startTime=a.endTime;break;case"getStartDate":(a=getStartDate(void 0,dateFormat,rawTasks[s].raw.startTime.startData))&&(rawTasks[s].startTime=a)}rawTasks[s].startTime&&(rawTasks[s].endTime=getEndDate(rawTasks[s].startTime,dateFormat,rawTasks[s].raw.endTime.data,inclusiveEndDates),rawTasks[s].endTime&&(rawTasks[s].processed=!0,rawTasks[s].manualEndTime=dayjs(rawTasks[s].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),checkTaskDates(rawTasks[s],dateFormat,excludes,includes))),rawTasks[s].processed}i=i&&e.processed}return i},setLink=function(t,e){let i=e;"loose"!==getConfig().securityLevel&&(i=sanitizeUrl(e)),t.split(",").forEach(function(t){void 0!==findTaskById(t)&&(pushFun(t,()=>{window.open(i,"_self")}),links[t]=i)}),setClass(t,"clickable")},setClass=function(t,i){t.split(",").forEach(function(t){let e=findTaskById(t);void 0!==e&&e.classes.push(i)})},setClickFun=function(t,e,s){if("loose"===getConfig().securityLevel&&void 0!==e){let i=[];if("string"==typeof s){i=s.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let e=0;e<i.length;e++){let t=i[e].trim();'"'===t.charAt(0)&&'"'===t.charAt(t.length-1)&&(t=t.substr(1,t.length-2)),i[e]=t}}0===i.length&&i.push(t),void 0!==findTaskById(t)&&pushFun(t,()=>{utils.runFunc(e,...i)})}},pushFun=function(e,i){funs.push(function(){const t=document.querySelector(`[id="${e}"]`);null!==t&&t.addEventListener("click",function(){i()})},function(){const t=document.querySelector(`[id="${e}-text"]`);null!==t&&t.addEventListener("click",function(){i()})})},setClickEvent=function(t,e,i){t.split(",").forEach(function(t){setClickFun(t,e,i)}),setClass(t,"clickable")},bindFunctions=function(e){funs.forEach(function(t){t(e)})},ganttDb={parseDirective:parseDirective,getConfig:()=>getConfig().gantt,clear:clear,setDateFormat:setDateFormat,getDateFormat:getDateFormat,enableInclusiveEndDates:enableInclusiveEndDates,endDatesAreInclusive:endDatesAreInclusive,enableTopAxis:enableTopAxis,topAxisEnabled:topAxisEnabled,setAxisFormat:setAxisFormat,getAxisFormat:getAxisFormat,setTickInterval:setTickInterval,getTickInterval:getTickInterval,setTodayMarker:setTodayMarker,getTodayMarker:getTodayMarker,setAccTitle:setAccTitle,getAccTitle:getAccTitle,setDiagramTitle:setDiagramTitle,getDiagramTitle:getDiagramTitle,setDisplayMode:setDisplayMode,getDisplayMode:getDisplayMode,setAccDescription:setAccDescription,getAccDescription:getAccDescription,addSection:addSection,getSections:getSections,getTasks:getTasks,addTask:addTask,findTaskById:findTaskById,addTaskOrg:addTaskOrg,setIncludes:setIncludes,getIncludes:getIncludes,setExcludes:setExcludes,getExcludes:getExcludes,setClickEvent:setClickEvent,setLink:setLink,getLinks:getLinks,bindFunctions:bindFunctions,parseDuration:parseDuration,isInvalidDate:isInvalidDate,setWeekday:setWeekday,getWeekday:getWeekday};function getTaskTags(i,s,t){let a=!0;for(;a;)a=!1,t.forEach(function(t){var e=new RegExp("^\\s*"+t+"\\s*$");i[0].match(e)&&(s[t]=!0,i.shift(1),a=!0)})}const setConf=function(){log.debug("Something is calling, setConf, remove the call")},mapWeekdayToTimeFunction={monday:timeMonday,tuesday:timeTuesday,wednesday:timeWednesday,thursday:timeThursday,friday:timeFriday,saturday:timeSaturday,sunday:timeSunday},getMaxIntersections=(t,e)=>{let i=[...t].map(()=>-1/0);let s=0;for(const a of[...t].sort((t,e)=>t.startTime-e.startTime||t.order-e.order))for(let t=0;t<i.length;t++)if(a.startTime>=i[t]){i[t]=a.endTime,a.order=t+e,t>s&&(s=t);break}return s};let w;const draw=function(B,e,P,i){const l=getConfig().gantt;var t=getConfig().securityLevel;let s;"sandbox"===t&&(s=select("#i"+e));const W=select("sandbox"===t?s.nodes()[0].contentDocument.body:"body"),n="sandbox"===t?s.nodes()[0].contentDocument:document,z=n.getElementById(e),a=(void 0===(w=z.parentElement.offsetWidth)&&(w=1200),void 0!==l.useWidth&&(w=l.useWidth),i.db.getTasks());let d=[];for(const Z of a)d.push(Z.type);d=function(i){const s={},a=[];for(let t=0,e=i.length;t<e;++t)Object.prototype.hasOwnProperty.call(s,i[t])||(s[i[t]]=!0,a.push(i[t]));return a}(d);const r={};let o=2*l.topPadding;if("compact"===i.db.getDisplayMode()||"compact"===l.displayMode){const A={};for(const M of a)void 0===A[M.section]?A[M.section]=[M]:A[M.section].push(M);let t=0;for(const tt of Object.keys(A)){var c=getMaxIntersections(A[tt],t)+1;t+=c,o+=c*(l.barHeight+l.barGap),r[tt]=c}}else{o+=a.length*(l.barHeight+l.barGap);for(const et of d)r[et]=a.filter(t=>t.type===et).length}z.setAttribute("viewBox","0 0 "+w+" "+o);const u=W.select(`[id="${e}"]`),h=scaleTime().domain([min(a,function(t){return t.startTime}),max(a,function(t){return t.endTime})]).rangeRound([0,w-l.leftPadding-l.rightPadding]);a.sort(function(t,e){t=t.startTime,e=e.startTime;let i=0;return e<t?i=1:t<e&&(i=-1),i});var t=a,N=w,m=o,Y=l.barHeight,y=Y+l.barGap,k=l.topPadding,f=l.leftPadding,H=(scaleLinear().domain([0,d.length]).range(["#00B9FA","#F95002"]).interpolate(interpolateHcl),y),p=k,R=f,V=m,g=t,q=i.db.getExcludes(),G=i.db.getIncludes(),T=g.reduce((t,{startTime:e})=>t?Math.min(t,e):e,0),U=g.reduce((t,{endTime:e})=>t?Math.max(t,e):e,0),J=i.db.getDateFormat();if(T&&U){const it=[];let t=null,e=dayjs(T);for(;e.valueOf()<=U;)i.db.isInvalidDate(e,J,q,G)?t?t.end=e:t={start:e,end:e}:t&&(it.push(t),t=null),e=e.add(1,"d");const st=u.append("g").selectAll("rect").data(it).enter();st.append("rect").attr("id",function(t){return"exclude-"+t.start.format("YYYY-MM-DD")}).attr("x",function(t){return h(t.start)+R}).attr("y",l.gridLineStartPadding).attr("width",function(t){var e=t.end.add(1,"day");return h(e)-h(t.start)}).attr("height",V-p-l.gridLineStartPadding).attr("transform-origin",function(t,e){return(h(t.start)+R+.5*(h(t.end)-h(t.start))).toString()+"px "+(e*H+.5*V).toString()+"px"}).attr("class","exclude-range")}{g=f,T=k,p=m;let t=axisBottom(h).tickSize(-p+T+l.gridLineStartPadding).tickFormat(timeFormat(i.db.getAxisFormat()||l.axisFormat||"%Y-%m-%d"));var v=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(i.db.getTickInterval()||l.tickInterval);if(null!==v){var b=v[1],x=v[2],K=i.db.getWeekday()||l.weekday;switch(x){case"minute":t.ticks(timeMinute.every(b));break;case"hour":t.ticks(timeHour.every(b));break;case"day":t.ticks(timeDay.every(b));break;case"week":t.ticks(mapWeekdayToTimeFunction[K].every(b));break;case"month":t.ticks(timeMonth.every(b))}}if(u.append("g").attr("class","grid").attr("transform","translate("+g+", "+(p-50)+")").call(t).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),i.db.topAxisEnabled()||l.topAxis){let t=axisTop(h).tickSize(-p+T+l.gridLineStartPadding).tickFormat(timeFormat(i.db.getAxisFormat()||l.axisFormat||"%Y-%m-%d"));if(null!==v){var _=v[1],x=v[2],Q=i.db.getWeekday()||l.weekday;switch(x){case"minute":t.ticks(timeMinute.every(_));break;case"hour":t.ticks(timeHour.every(_));break;case"day":t.ticks(timeDay.every(_));break;case"week":t.ticks(mapWeekdayToTimeFunction[Q].every(_));break;case"month":t.ticks(timeMonth.every(_))}}u.append("g").attr("class","grid").attr("transform","translate("+g+", "+T+")").call(t).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}{var D=t,S=y,C=k,E=f,I=Y,$=N;const at=[...new Set(D.map(t=>t.order))],rt=at.map(e=>D.find(t=>t.order===e)),j=(u.append("g").selectAll("rect").data(rt).enter().append("rect").attr("x",0).attr("y",function(t,e){return t.order*S+C-2}).attr("width",function(){return $-l.rightPadding/2}).attr("height",S).attr("class",function(t){for(var[e,i]of d.entries())if(t.type===i)return"section section"+e%l.numberSectionStyles;return"section section0"}),u.append("g").selectAll("rect").data(D).enter()),nt=i.db.getLinks(),ot=(j.append("rect").attr("id",function(t){return t.id}).attr("rx",3).attr("ry",3).attr("x",function(t){return t.milestone?h(t.startTime)+E+.5*(h(t.endTime)-h(t.startTime))-.5*I:h(t.startTime)+E}).attr("y",function(t,e){return t.order*S+C}).attr("width",function(t){return t.milestone?I:h(t.renderEndTime||t.endTime)-h(t.startTime)}).attr("height",I).attr("transform-origin",function(t,e){return e=t.order,(h(t.startTime)+E+.5*(h(t.endTime)-h(t.startTime))).toString()+"px "+(e*S+C+.5*I).toString()+"px"}).attr("class",function(t){var e,i;let s="",a=(0<t.classes.length&&(s=t.classes.join(" ")),0);for([e,i]of d.entries())t.type===i&&(a=e%l.numberSectionStyles);let r="";return t.active?t.crit?r+=" activeCrit":r=" active":t.done?r=t.crit?" doneCrit":" done":t.crit&&(r+=" crit"),0===r.length&&(r=" task"),t.milestone&&(r=" milestone "+r),"task"+(r=(r+=a)+(" "+s))}),j.append("text").attr("id",function(t){return t.id+"-text"}).text(function(t){return t.task}).attr("font-size",l.fontSize).attr("x",function(t){let e=h(t.startTime),i=h(t.renderEndTime||t.endTime);t.milestone&&(e+=.5*(h(t.endTime)-h(t.startTime))-.5*I),t.milestone&&(i=e+I);t=this.getBBox().width;return t>i-e?i+t+1.5*l.leftPadding>$?e+E-5:i+E+5:(i-e)/2+e+E}).attr("y",function(t,e){return t.order*S+l.barHeight/2+(l.fontSize/2-2)+C}).attr("text-height",I).attr("class",function(t){var e=h(t.startTime);let i=h(t.endTime);t.milestone&&(i=e+I);var s,a,r=this.getBBox().width;let n="",o=(0<t.classes.length&&(n=t.classes.join(" ")),0);for([s,a]of d.entries())t.type===a&&(o=s%l.numberSectionStyles);let c="";return t.active&&(c=t.crit?"activeCritText"+o:"activeText"+o),t.done?c=t.crit?c+" doneCritText"+o:c+" doneText"+o:t.crit&&(c=c+" critText"+o),t.milestone&&(c+=" milestoneText"),r>i-e?i+r+1.5*l.leftPadding>$?n+" taskTextOutsideLeft taskTextOutside"+o+" "+c:n+" taskTextOutsideRight taskTextOutside"+o+" "+c+" width-"+r:n+" taskText taskText"+o+" "+c+" width-"+r}),getConfig().securityLevel);if("sandbox"===ot){let t;const L=(t=select("#i"+e)).nodes()[0].contentDocument;j.filter(function(t){return void 0!==nt[t.id]}).each(function(t){var e=L.querySelector("#"+t.id),i=L.querySelector("#"+t.id+"-text");const s=e.parentNode;var a=L.createElement("a");a.setAttribute("xlink:href",nt[t.id]),a.setAttribute("target","_top"),s.appendChild(a),a.appendChild(e),a.appendChild(i)})}}{var F=y,X=k;let s=0;const ct=Object.keys(r).map(t=>[t,r[t]]);u.append("g").selectAll("text").data(ct).enter().append(function(t){const e=t[0].split(common.lineBreakRegex);var i,s,t=-(e.length-1)/2;const a=n.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("dy",t+"em");for([i,s]of e.entries()){const r=n.createElementNS("http://www.w3.org/2000/svg","tspan");r.setAttribute("alignment-baseline","central"),r.setAttribute("x","10"),0<i&&r.setAttribute("dy","1em"),r.textContent=s,a.appendChild(r)}return a}).attr("x",10).attr("y",function(e,i){if(!(0<i))return e[1]*F/2+X;{let t=0;if(t<i)return s+=ct[i-1][1],e[1]*F/2+s*F+X}}).attr("font-size",l.sectionFontSize).attr("class",function(t){for(var[e,i]of d.entries())if(t[0]===i)return"sectionTitle sectionTitle"+e%l.numberSectionStyles;return"sectionTitle"})}{p=f,v=m;const O=i.db.getTodayMarker();if("off"!==O){const lt=u.append("g").attr("class","today");x=new Date;const dt=lt.append("line");dt.attr("x1",h(x)+p).attr("x2",h(x)+p).attr("y1",l.titleTopMargin).attr("y2",v-l.titleTopMargin).attr("class","today"),""!==O&&dt.attr("style",O.replace(/,/g,";"))}}configureSvgSize(u,o,w,l.useMaxWidth),u.append("text").text(i.db.getDiagramTitle()).attr("x",w/2).attr("y",l.titleTopMargin).attr("class","titleText")},ganttRenderer={setConf:setConf,draw:draw},getStyles=t=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${t.fontFamily};
      fill: ${t.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${t.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${t.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,ganttStyles=getStyles,diagram={parser:ganttParser,db:ganttDb,renderer:ganttRenderer,styles:ganttStyles};export{diagram};